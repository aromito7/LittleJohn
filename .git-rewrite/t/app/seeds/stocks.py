from app.models import db, Stock, environment, SCHEMA
from datetime import datetime
import json

# Adds a demo portfolio, you can add other portfolios here if you want
def seed_stocks():
    demos = [Stock(
        symbol = 'TNA',
        name = 'Direxion Daily Small Cap Bull 3X ETF',
        price = 33.21,
        open = 31.11,
        history = "{\"Open\":{\"1664769600000\":29.9135717879,\"1664856000000\":32.6946065677,\"1664942400000\":33.0733865912,\"1665028800000\":33.3126118058,\"1665115200000\":32.216147292,\"1665374400000\":30.6611621066,\"1665460800000\":29.4052099378,\"1665547200000\":29.9036027161,\"1665633600000\":27.8203185448,\"1665720000000\":32.4553792845,\"1665979200000\":30.9402622152,\"1666065600000\":34.0103647912,\"1666152000000\":32.1364076561,\"1666238400000\":31.4685586017,\"1666324800000\":30.3820606867,\"1666584000000\":32.4753143571,\"1666670400000\":32.6547342045,\"1666756800000\":35.8145492189,\"1666843200000\":36.6518486126,\"1666929600000\":36.1434884321,\"1667188800000\":37.5987987868,\"1667275200000\":39.4129483433,\"1667361600000\":37.9077995157,\"1667448000000\":33.2926780414,\"1667534400000\":35.3261230129,\"1667797200000\":35.8643894124,\"1667883600000\":36.1135828644,\"1667970000000\":34.7778888953,\"1668056400000\":36.8611738159,\"1668142800000\":39.0939797861,\"1668402000000\":39.0042686191,\"1668488400000\":40.3000910796,\"1668574800000\":39.4827257995,\"1668661200000\":36.3129428394,\"1668747600000\":38.0872213976,\"1669006800000\":36.9608540201,\"1669093200000\":37.5688937583,\"1669179600000\":37.8778975876,\"1669352400000\":38.3164838779,\"1669611600000\":37.7582824021,\"1669698000000\":36.3926817438,\"1669784400000\":36.791400076,\"1669870800000\":40.11070187,\"1669957200000\":37.7283795548,\"1670216400000\":39.2734007913,\"1670302800000\":36.6817530571,\"1670389200000\":34.8077917789,\"1670475600000\":35.3360931732,\"1670562000000\":34.7878606746,\"1670821200000\":34.1897843998,\"1670907600000\":38.7052308542,\"1670994000000\":36.1135856682,\"1671080400000\":34.2196918228,\"1671166800000\":31.7974972594,\"1671426000000\":32.1065015671,\"1671512400000\":30.5,\"1671598800000\":31.9699993134,\"1671685200000\":31.8600006104,\"1671771600000\":31.3999996185,\"1672117200000\":31.8700008392,\"1672203600000\":31.2600002289,\"1672290000000\":30.3500003815,\"1672376400000\":31.1100006104},\"High\":{\"1664769600000\":31.4585905515,\"1664856000000\":34.6582777977,\"1664942400000\":34.2196929413,\"1665028800000\":34.6582762178,\"1665115200000\":32.5052163606,\"1665374400000\":30.820647842,\"1665460800000\":31.0798120283,\"1665547200000\":30.1926717882,\"1665633600000\":32.166309462,\"1665720000000\":33.1232246094,\"1665979200000\":32.2061818678,\"1666065600000\":34.8177634738,\"1666152000000\":32.6447672439,\"1666238400000\":32.6647035081,\"1666324800000\":32.3955704445,\"1666584000000\":32.824188201,\"1666670400000\":35.5852898579,\"1666756800000\":37.6685732334,\"1666843200000\":37.4592472349,\"1666929600000\":38.2965478119,\"1667188800000\":38.8248460773,\"1667275200000\":39.6721112209,\"1667361600000\":39.2734001236,\"1667448000000\":34.8177605095,\"1667534400000\":35.954099765,\"1667797200000\":36.3428466308,\"1667883600000\":37.1402719822,\"1667970000000\":35.1666351172,\"1668056400000\":38.8547473298,\"1668142800000\":40.9480038555,\"1668402000000\":40.2901207036,\"1668488400000\":41.3467164708,\"1668574800000\":39.5126281867,\"1668661200000\":37.15024389,\"1668747600000\":38.5357762026,\"1669006800000\":37.2299830928,\"1669093200000\":38.3065176758,\"1669179600000\":38.7949395988,\"1669352400000\":39.1238825686,\"1669611600000\":38.2267695796,\"1669698000000\":37.3695360828,\"1669784400000\":39.6521770837,\"1669870800000\":40.7785471903,\"1669957200000\":40.5094156907,\"1670216400000\":39.3830441434,\"1670302800000\":36.7415616333,\"1670389200000\":35.8145485343,\"1670475600000\":36.4425271406,\"1670562000000\":35.3759650359,\"1670821200000\":35.4856064005,\"1670907600000\":39.2135904174,\"1670994000000\":37.0505639006,\"1671080400000\":34.4788547113,\"1671166800000\":32.40553589,\"1671426000000\":32.3656682617,\"1671512400000\":31.75,\"1671598800000\":33.25,\"1671685200000\":31.9400005341,\"1671771600000\":31.8999996185,\"1672117200000\":31.9599990845,\"1672203600000\":31.7000007629,\"1672290000000\":32.2000007629,\"1672376400000\":31.8999996185},\"Low\":{\"1664769600000\":28.8370421311,\"1664856000000\":32.6946065677,\"1664942400000\":31.9071440487,\"1665028800000\":32.7743498434,\"1665115200000\":29.9036023479,\"1665374400000\":29.2158204903,\"1665460800000\":28.2589055239,\"1665547200000\":28.6177468867,\"1665633600000\":27.0328579867,\"1665720000000\":29.1360774453,\"1665979200000\":30.9003898319,\"1666065600000\":32.2759578763,\"1666152000000\":30.3521583964,\"1666238400000\":29.8836674562,\"1666324800000\":29.7241815621,\"1666584000000\":31.2193609144,\"1666670400000\":32.624831817,\"1666756800000\":35.2762834465,\"1666843200000\":35.5952533072,\"1666929600000\":35.4856092828,\"1667188800000\":37.1303077806,\"1667275200000\":37.9377044345,\"1667361600000\":34.5386629824,\"1667448000000\":32.5849565788,\"1667534400000\":33.372421787,\"1667797200000\":34.628375882,\"1667883600000\":34.4190446586,\"1667970000000\":32.5650211065,\"1668056400000\":36.4126190148,\"1668142800000\":38.9942988239,\"1668402000000\":38.2965471,\"1668488400000\":39.2036271083,\"1668574800000\":37.638667936,\"1668661200000\":35.6550637142,\"1668747600000\":36.8910765185,\"1669006800000\":36.1634215888,\"1669093200000\":36.721626485,\"1669179600000\":37.419376582,\"1669352400000\":38.0872233663,\"1669611600000\":35.9839994368,\"1669698000000\":36.3827155496,\"1669784400000\":35.6650299444,\"1669870800000\":38.8248460058,\"1669957200000\":37.6885109719,\"1670216400000\":36.2730704435,\"1670302800000\":34.4090803961,\"1670389200000\":34.438981743,\"1670475600000\":34.6582778382,\"1670562000000\":34.0502367731,\"1670821200000\":33.7312634123,\"1670907600000\":35.4258015742,\"1670994000000\":34.6184054532,\"1671080400000\":32.3756340069,\"1671166800000\":31.029970998,\"1671426000000\":30.4019970702,\"1671512400000\":30.2399997711,\"1671598800000\":31.8500003815,\"1671685200000\":29.8299999237,\"1671771600000\":30.7600002289,\"1672117200000\":30.8799991608,\"1672203600000\":29.6700000763,\"1672290000000\":30.1900005341,\"1672376400000\":30.7399997711},\"Close\":{\"1664769600000\":30.9701652527,\"1664856000000\":34.6483078003,\"1664942400000\":33.8708152771,\"1665028800000\":33.2727432251,\"1665115200000\":30.3023166656,\"1665374400000\":29.7939567566,\"1665460800000\":29.8138923645,\"1665547200000\":29.5746631622,\"1665633600000\":31.7077865601,\"1665720000000\":29.2158203125,\"1665979200000\":31.9669513702,\"1666065600000\":33.0933227539,\"1666152000000\":31.4286880493,\"1666238400000\":30.1926727295,\"1666324800000\":32.1463737488,\"1666584000000\":32.5650215149,\"1666670400000\":35.1666374207,\"1666756800000\":35.7248382568,\"1666843200000\":35.7148704529,\"1666929600000\":38.1370620728,\"1667188800000\":38.2467079163,\"1667275200000\":38.4460639954,\"1667361600000\":34.5685653687,\"1667448000000\":33.9704933167,\"1667534400000\":35.2364120483,\"1667797200000\":35.7348060608,\"1667883600000\":35.7148704529,\"1667970000000\":32.7743492126,\"1668056400000\":38.8049087524,\"1668142800000\":39.7119865417,\"1668402000000\":38.4859390259,\"1668488400000\":40.1605415344,\"1668574800000\":37.9676094055,\"1668661200000\":36.9508857727,\"1668747600000\":37.5589256287,\"1669006800000\":37.0106925964,\"1669093200000\":38.2068405151,\"1669179600000\":38.3862571716,\"1669352400000\":38.7251663208,\"1669611600000\":36.3029708862,\"1669698000000\":36.6319122314,\"1669784400000\":39.6123085022,\"1669870800000\":39.3531417847,\"1669957200000\":40.0209922791,\"1670216400000\":36.6917228699,\"1670302800000\":34.9971847534,\"1670389200000\":34.708114624,\"1670475600000\":35.4258041382,\"1670562000000\":34.0801391602,\"1670821200000\":35.31615448,\"1670907600000\":36.1634216309,\"1670994000000\":35.4258041382,\"1671080400000\":32.8042526245,\"1671166800000\":31.9769210815,\"1671426000000\":30.7110004425,\"1671512400000\":31.1700000763,\"1671598800000\":32.7299995422,\"1671685200000\":31.4799995422,\"1671771600000\":31.8600006104,\"1672117200000\":31.2399997711,\"1672203600000\":29.7600002289,\"1672290000000\":32.0099983215,\"1672376400000\":31.7000007629},\"Volume\":{\"1664769600000\":16412300,\"1664856000000\":14039400,\"1664942400000\":15319600,\"1665028800000\":11053900,\"1665115200000\":12818800,\"1665374400000\":9620400,\"1665460800000\":12515000,\"1665547200000\":11237000,\"1665633600000\":20114700,\"1665720000000\":16766500,\"1665979200000\":13121200,\"1666065600000\":17927600,\"1666152000000\":14944100,\"1666238400000\":18735500,\"1666324800000\":18510400,\"1666584000000\":13566800,\"1666670400000\":14186400,\"1666756800000\":16174200,\"1666843200000\":16412700,\"1666929600000\":13410600,\"1667188800000\":12792900,\"1667275200000\":12553800,\"1667361600000\":18491900,\"1667448000000\":9808300,\"1667534400000\":15375800,\"1667797200000\":8915000,\"1667883600000\":10379200,\"1667970000000\":9959600,\"1668056400000\":13344200,\"1668142800000\":13000900,\"1668402000000\":10825000,\"1668488400000\":13431700,\"1668574800000\":10051800,\"1668661200000\":9520600,\"1668747600000\":10278300,\"1669006800000\":5685100,\"1669093200000\":6874700,\"1669179600000\":8048800,\"1669352400000\":3579000,\"1669611600000\":8567200,\"1669698000000\":7481800,\"1669784400000\":13001600,\"1669870800000\":9328500,\"1669957200000\":9226100,\"1670216400000\":9229900,\"1670302800000\":7020000,\"1670389200000\":9314800,\"1670475600000\":7661700,\"1670562000000\":7940800,\"1670821200000\":7345600,\"1670907600000\":15219000,\"1670994000000\":11317100,\"1671080400000\":9126000,\"1671166800000\":8461200,\"1671426000000\":6553100,\"1671512400000\":7441800,\"1671598800000\":7622300,\"1671685200000\":10395700,\"1671771600000\":7731300,\"1672117200000\":7144800,\"1672203600000\":8388500,\"1672290000000\":6701900,\"1672376400000\":7179300},\"Dividends\":{\"1664769600000\":0.0,\"1664856000000\":0.0,\"1664942400000\":0.0,\"1665028800000\":0.0,\"1665115200000\":0.0,\"1665374400000\":0.0,\"1665460800000\":0.0,\"1665547200000\":0.0,\"1665633600000\":0.0,\"1665720000000\":0.0,\"1665979200000\":0.0,\"1666065600000\":0.0,\"1666152000000\":0.0,\"1666238400000\":0.0,\"1666324800000\":0.0,\"1666584000000\":0.0,\"1666670400000\":0.0,\"1666756800000\":0.0,\"1666843200000\":0.0,\"1666929600000\":0.0,\"1667188800000\":0.0,\"1667275200000\":0.0,\"1667361600000\":0.0,\"1667448000000\":0.0,\"1667534400000\":0.0,\"1667797200000\":0.0,\"1667883600000\":0.0,\"1667970000000\":0.0,\"1668056400000\":0.0,\"1668142800000\":0.0,\"1668402000000\":0.0,\"1668488400000\":0.0,\"1668574800000\":0.0,\"1668661200000\":0.0,\"1668747600000\":0.0,\"1669006800000\":0.0,\"1669093200000\":0.0,\"1669179600000\":0.0,\"1669352400000\":0.0,\"1669611600000\":0.0,\"1669698000000\":0.0,\"1669784400000\":0.0,\"1669870800000\":0.0,\"1669957200000\":0.0,\"1670216400000\":0.0,\"1670302800000\":0.0,\"1670389200000\":0.0,\"1670475600000\":0.0,\"1670562000000\":0.0,\"1670821200000\":0.0,\"1670907600000\":0.0,\"1670994000000\":0.0,\"1671080400000\":0.0,\"1671166800000\":0.0,\"1671426000000\":0.0,\"1671512400000\":0.099,\"1671598800000\":0.0,\"1671685200000\":0.0,\"1671771600000\":0.0,\"1672117200000\":0.0,\"1672203600000\":0.0,\"1672290000000\":0.0,\"1672376400000\":0.0},\"Stock Splits\":{\"1664769600000\":0.0,\"1664856000000\":0.0,\"1664942400000\":0.0,\"1665028800000\":0.0,\"1665115200000\":0.0,\"1665374400000\":0.0,\"1665460800000\":0.0,\"1665547200000\":0.0,\"1665633600000\":0.0,\"1665720000000\":0.0,\"1665979200000\":0.0,\"1666065600000\":0.0,\"1666152000000\":0.0,\"1666238400000\":0.0,\"1666324800000\":0.0,\"1666584000000\":0.0,\"1666670400000\":0.0,\"1666756800000\":0.0,\"1666843200000\":0.0,\"1666929600000\":0.0,\"1667188800000\":0.0,\"1667275200000\":0.0,\"1667361600000\":0.0,\"1667448000000\":0.0,\"1667534400000\":0.0,\"1667797200000\":0.0,\"1667883600000\":0.0,\"1667970000000\":0.0,\"1668056400000\":0.0,\"1668142800000\":0.0,\"1668402000000\":0.0,\"1668488400000\":0.0,\"1668574800000\":0.0,\"1668661200000\":0.0,\"1668747600000\":0.0,\"1669006800000\":0.0,\"1669093200000\":0.0,\"1669179600000\":0.0,\"1669352400000\":0.0,\"1669611600000\":0.0,\"1669698000000\":0.0,\"1669784400000\":0.0,\"1669870800000\":0.0,\"1669957200000\":0.0,\"1670216400000\":0.0,\"1670302800000\":0.0,\"1670389200000\":0.0,\"1670475600000\":0.0,\"1670562000000\":0.0,\"1670821200000\":0.0,\"1670907600000\":0.0,\"1670994000000\":0.0,\"1671080400000\":0.0,\"1671166800000\":0.0,\"1671426000000\":0.0,\"1671512400000\":0.0,\"1671598800000\":0.0,\"1671685200000\":0.0,\"1671771600000\":0.0,\"1672117200000\":0.0,\"1672203600000\":0.0,\"1672290000000\":0.0,\"1672376400000\":0.0},\"Capital Gains\":{\"1664769600000\":0.0,\"1664856000000\":0.0,\"1664942400000\":0.0,\"1665028800000\":0.0,\"1665115200000\":0.0,\"1665374400000\":0.0,\"1665460800000\":0.0,\"1665547200000\":0.0,\"1665633600000\":0.0,\"1665720000000\":0.0,\"1665979200000\":0.0,\"1666065600000\":0.0,\"1666152000000\":0.0,\"1666238400000\":0.0,\"1666324800000\":0.0,\"1666584000000\":0.0,\"1666670400000\":0.0,\"1666756800000\":0.0,\"1666843200000\":0.0,\"1666929600000\":0.0,\"1667188800000\":0.0,\"1667275200000\":0.0,\"1667361600000\":0.0,\"1667448000000\":0.0,\"1667534400000\":0.0,\"1667797200000\":0.0,\"1667883600000\":0.0,\"1667970000000\":0.0,\"1668056400000\":0.0,\"1668142800000\":0.0,\"1668402000000\":0.0,\"1668488400000\":0.0,\"1668574800000\":0.0,\"1668661200000\":0.0,\"1668747600000\":0.0,\"1669006800000\":0.0,\"1669093200000\":0.0,\"1669179600000\":0.0,\"1669352400000\":0.0,\"1669611600000\":0.0,\"1669698000000\":0.0,\"1669784400000\":0.0,\"1669870800000\":0.0,\"1669957200000\":0.0,\"1670216400000\":0.0,\"1670302800000\":0.0,\"1670389200000\":0.0,\"1670475600000\":0.0,\"1670562000000\":0.0,\"1670821200000\":0.0,\"1670907600000\":0.0,\"1670994000000\":0.0,\"1671080400000\":0.0,\"1671166800000\":0.0,\"1671426000000\":0.0,\"1671512400000\":0.0,\"1671598800000\":0.0,\"1671685200000\":0.0,\"1671771600000\":0.0,\"1672117200000\":0.0,\"1672203600000\":0.0,\"1672290000000\":0.0,\"1672376400000\":0.0}}"),
        Stock(
        symbol = "GME",
        name = 'GameStop',
        price = 18.66,
        open = 17.90,
        history = "{\"Open\":{\"1664769600000\":25.1399993896,\"1664856000000\":25.9500007629,\"1664942400000\":26.7700004578,\"1665028800000\":26.2900009155,\"1665115200000\":25.8400001526,\"1665374400000\":25.3700008392,\"1665460800000\":24.8700008392,\"1665547200000\":25.9599990845,\"1665633600000\":24.4200000763,\"1665720000000\":25.7700004578,\"1665979200000\":25.3700008392,\"1666065600000\":27.1000003815,\"1666152000000\":26.0,\"1666238400000\":24.6499996185,\"1666324800000\":24.1499996185,\"1666584000000\":25.0,\"1666670400000\":24.8199996948,\"1666756800000\":26.3700008392,\"1666843200000\":25.75,\"1666929600000\":26.8799991608,\"1667188800000\":31.2199993134,\"1667275200000\":29.3999996185,\"1667361600000\":27.8999996185,\"1667448000000\":26.0,\"1667534400000\":26.6000003815,\"1667797200000\":26.25,\"1667883600000\":25.3299999237,\"1667970000000\":24.5499992371,\"1668056400000\":24.6200008392,\"1668142800000\":24.7800006866,\"1668402000000\":26.2999992371,\"1668488400000\":26.5900001526,\"1668574800000\":26.6200008392,\"1668661200000\":26.2999992371,\"1668747600000\":28.1599998474,\"1669006800000\":26.6599998474,\"1669093200000\":25.1299991608,\"1669179600000\":25.9200000763,\"1669352400000\":26.5,\"1669611600000\":25.7900009155,\"1669698000000\":25.5799999237,\"1669784400000\":25.8999996185,\"1669870800000\":26.0,\"1669957200000\":26.25,\"1670216400000\":27.3099994659,\"1670302800000\":25.4099998474,\"1670389200000\":23.3999996185,\"1670475600000\":22.0,\"1670562000000\":24.5900001526,\"1670821200000\":22.6599998474,\"1670907600000\":23.5499992371,\"1670994000000\":21.1900005341,\"1671080400000\":20.7399997711,\"1671166800000\":20.4799995422,\"1671426000000\":20.5499992371,\"1671512400000\":19.8600006104,\"1671598800000\":20.3999996185,\"1671685200000\":20.5,\"1671771600000\":20.0,\"1672117200000\":19.9099998474,\"1672203600000\":18.2900009155,\"1672290000000\":18.1200008392,\"1672376400000\":17.9500007629},\"High\":{\"1664769600000\":25.6299991608,\"1664856000000\":27.8299999237,\"1664942400000\":26.9799995422,\"1665028800000\":27.0,\"1665115200000\":25.8400001526,\"1665374400000\":26.5,\"1665460800000\":26.2999992371,\"1665547200000\":26.8899993896,\"1665633600000\":26.5900001526,\"1665720000000\":26.3700008392,\"1665979200000\":26.4099998474,\"1666065600000\":27.7399997711,\"1666152000000\":26.1800003052,\"1666238400000\":25.4500007629,\"1666324800000\":25.3299999237,\"1666584000000\":25.1900005341,\"1666670400000\":27.7900009155,\"1666756800000\":27.4799995422,\"1666843200000\":26.3299999237,\"1666929600000\":28.7900009155,\"1667188800000\":34.9900016785,\"1667275200000\":29.6900005341,\"1667361600000\":28.75,\"1667448000000\":27.2900009155,\"1667534400000\":27.0300006866,\"1667797200000\":26.2999992371,\"1667883600000\":25.8500003815,\"1667970000000\":24.6700000763,\"1668056400000\":25.7000007629,\"1668142800000\":26.1200008392,\"1668402000000\":27.3799991608,\"1668488400000\":28.2399997711,\"1668574800000\":27.3500003815,\"1668661200000\":27.7600002289,\"1668747600000\":28.7000007629,\"1669006800000\":27.8299999237,\"1669093200000\":26.4500007629,\"1669179600000\":27.1399993896,\"1669352400000\":27.0499992371,\"1669611600000\":26.4400005341,\"1669698000000\":26.3500003815,\"1669784400000\":26.2299995422,\"1669870800000\":27.5,\"1669957200000\":27.8700008392,\"1670216400000\":27.4799995422,\"1670302800000\":25.5799999237,\"1670389200000\":23.6100006104,\"1670475600000\":25.0,\"1670562000000\":24.5900001526,\"1670821200000\":23.1499996185,\"1670907600000\":23.7000007629,\"1670994000000\":22.0,\"1671080400000\":21.4400005341,\"1671166800000\":21.1200008392,\"1671426000000\":20.8899993896,\"1671512400000\":21.3199996948,\"1671598800000\":20.8999996185,\"1671685200000\":20.5,\"1671771600000\":20.6299991608,\"1672117200000\":19.9899997711,\"1672203600000\":18.7000007629,\"1672290000000\":18.5699996948,\"1672376400000\":18.5799999237},\"Low\":{\"1664769600000\":24.2099990845,\"1664856000000\":25.9500007629,\"1664942400000\":25.4300003052,\"1665028800000\":25.7999992371,\"1665115200000\":24.4200000763,\"1665374400000\":24.75,\"1665460800000\":23.9500007629,\"1665547200000\":25.2700004578,\"1665633600000\":23.9099998474,\"1665720000000\":24.6299991608,\"1665979200000\":25.2399997711,\"1666065600000\":26.1299991608,\"1666152000000\":24.2700004578,\"1666238400000\":24.0699996948,\"1666324800000\":24.1000003815,\"1666584000000\":24.1100006104,\"1666670400000\":24.7999992371,\"1666756800000\":25.3199996948,\"1666843200000\":25.2000007629,\"1666929600000\":26.4200000763,\"1667188800000\":27.9099998474,\"1667275200000\":27.6200008392,\"1667361600000\":26.5,\"1667448000000\":26.0,\"1667534400000\":25.3400001526,\"1667797200000\":24.7999992371,\"1667883600000\":24.1100006104,\"1667970000000\":21.8899993896,\"1668056400000\":23.9099998474,\"1668142800000\":24.1499996185,\"1668402000000\":25.6100006104,\"1668488400000\":26.2700004578,\"1668574800000\":26.3700008392,\"1668661200000\":26.1499996185,\"1668747600000\":26.8299999237,\"1669006800000\":24.8600006104,\"1669093200000\":24.7000007629,\"1669179600000\":25.9200000763,\"1669352400000\":26.1399993896,\"1669611600000\":25.2099990845,\"1669698000000\":25.3199996948,\"1669784400000\":24.9099998474,\"1669870800000\":25.1800003052,\"1669957200000\":26.1100006104,\"1670216400000\":25.4400005341,\"1670302800000\":23.1100006104,\"1670389200000\":21.9699993134,\"1670475600000\":21.9699993134,\"1670562000000\":22.5900001526,\"1670821200000\":22.1800003052,\"1670907600000\":20.8299999237,\"1670994000000\":21.0100002289,\"1671080400000\":20.2399997711,\"1671166800000\":20.0100002289,\"1671426000000\":19.5900001526,\"1671512400000\":19.6200008392,\"1671598800000\":20.1800003052,\"1671685200000\":18.5,\"1671771600000\":19.6499996185,\"1672117200000\":18.0,\"1672203600000\":16.9799995422,\"1672290000000\":17.75,\"1672376400000\":17.8999996185},\"Close\":{\"1664769600000\":25.3799991608,\"1664856000000\":27.6000003815,\"1664942400000\":26.3899993896,\"1665028800000\":25.9899997711,\"1665115200000\":25.3500003815,\"1665374400000\":25.0,\"1665460800000\":25.2700004578,\"1665547200000\":25.3600006104,\"1665633600000\":25.5599994659,\"1665720000000\":24.6299991608,\"1665979200000\":25.9599990845,\"1666065600000\":26.6700000763,\"1666152000000\":24.5400009155,\"1666238400000\":24.4099998474,\"1666324800000\":25.2999992371,\"1666584000000\":24.7099990845,\"1666670400000\":26.8700008392,\"1666756800000\":25.4200000763,\"1666843200000\":25.9300003052,\"1666929600000\":28.1700000763,\"1667188800000\":28.3099994659,\"1667275200000\":28.3899993896,\"1667361600000\":26.6200008392,\"1667448000000\":26.2900009155,\"1667534400000\":26.5100002289,\"1667797200000\":25.7600002289,\"1667883600000\":25.1399993896,\"1667970000000\":23.1100006104,\"1668056400000\":24.8799991608,\"1668142800000\":26.1000003815,\"1668402000000\":26.0499992371,\"1668488400000\":27.5900001526,\"1668574800000\":27.1399993896,\"1668661200000\":27.7600002289,\"1668747600000\":27.6000003815,\"1669006800000\":25.1599998474,\"1669093200000\":26.2999992371,\"1669179600000\":26.7000007629,\"1669352400000\":26.1700000763,\"1669611600000\":25.2900009155,\"1669698000000\":25.6000003815,\"1669784400000\":26.2099990845,\"1669870800000\":26.6000003815,\"1669957200000\":27.5200004578,\"1670216400000\":25.5599994659,\"1670302800000\":23.3899993896,\"1670389200000\":22.2600002289,\"1670475600000\":24.7900009155,\"1670562000000\":22.6299991608,\"1670821200000\":22.6700000763,\"1670907600000\":21.0,\"1670994000000\":21.0499992371,\"1671080400000\":20.5799999237,\"1671166800000\":20.7999992371,\"1671426000000\":19.9200000763,\"1671512400000\":20.2600002289,\"1671598800000\":20.5599994659,\"1671685200000\":19.8099994659,\"1671771600000\":20.0799999237,\"1672117200000\":18.2000007629,\"1672203600000\":17.9200000763,\"1672290000000\":18.3299999237,\"1672376400000\":18.4599990845},\"Volume\":{\"1664769600000\":2653900,\"1664856000000\":4581900,\"1664942400000\":2986400,\"1665028800000\":2418700,\"1665115200000\":3270600,\"1665374400000\":2917600,\"1665460800000\":4195900,\"1665547200000\":3284400,\"1665633600000\":3516200,\"1665720000000\":2773500,\"1665979200000\":3172200,\"1666065600000\":4402600,\"1666152000000\":5318400,\"1666238400000\":5148600,\"1666324800000\":3036300,\"1666584000000\":3114300,\"1666670400000\":7791600,\"1666756800000\":3858200,\"1666843200000\":2422900,\"1666929600000\":8089600,\"1667188800000\":24027600,\"1667275200000\":5147500,\"1667361600000\":4143900,\"1667448000000\":3384400,\"1667534400000\":4138000,\"1667797200000\":3303600,\"1667883600000\":4695100,\"1667970000000\":8464800,\"1668056400000\":6107000,\"1668142800000\":3986200,\"1668402000000\":4352200,\"1668488400000\":5392000,\"1668574800000\":2452300,\"1668661200000\":2477700,\"1668747600000\":3087400,\"1669006800000\":4443300,\"1669093200000\":4240400,\"1669179600000\":2737500,\"1669352400000\":1122700,\"1669611600000\":2440900,\"1669698000000\":2029500,\"1669784400000\":3719500,\"1669870800000\":7615200,\"1669957200000\":4568900,\"1670216400000\":4973700,\"1670302800000\":7699300,\"1670389200000\":10078200,\"1670475600000\":10252000,\"1670562000000\":5312900,\"1670821200000\":3750800,\"1670907600000\":6305600,\"1670994000000\":4604800,\"1671080400000\":6444500,\"1671166800000\":9372700,\"1671426000000\":3700600,\"1671512400000\":4479000,\"1671598800000\":2793600,\"1671685200000\":5343100,\"1671771600000\":3174800,\"1672117200000\":4233000,\"1672203600000\":5672000,\"1672290000000\":3442800,\"1672376400000\":2663100},\"Dividends\":{\"1664769600000\":0.0,\"1664856000000\":0.0,\"1664942400000\":0.0,\"1665028800000\":0.0,\"1665115200000\":0.0,\"1665374400000\":0.0,\"1665460800000\":0.0,\"1665547200000\":0.0,\"1665633600000\":0.0,\"1665720000000\":0.0,\"1665979200000\":0.0,\"1666065600000\":0.0,\"1666152000000\":0.0,\"1666238400000\":0.0,\"1666324800000\":0.0,\"1666584000000\":0.0,\"1666670400000\":0.0,\"1666756800000\":0.0,\"1666843200000\":0.0,\"1666929600000\":0.0,\"1667188800000\":0.0,\"1667275200000\":0.0,\"1667361600000\":0.0,\"1667448000000\":0.0,\"1667534400000\":0.0,\"1667797200000\":0.0,\"1667883600000\":0.0,\"1667970000000\":0.0,\"1668056400000\":0.0,\"1668142800000\":0.0,\"1668402000000\":0.0,\"1668488400000\":0.0,\"1668574800000\":0.0,\"1668661200000\":0.0,\"1668747600000\":0.0,\"1669006800000\":0.0,\"1669093200000\":0.0,\"1669179600000\":0.0,\"1669352400000\":0.0,\"1669611600000\":0.0,\"1669698000000\":0.0,\"1669784400000\":0.0,\"1669870800000\":0.0,\"1669957200000\":0.0,\"1670216400000\":0.0,\"1670302800000\":0.0,\"1670389200000\":0.0,\"1670475600000\":0.0,\"1670562000000\":0.0,\"1670821200000\":0.0,\"1670907600000\":0.0,\"1670994000000\":0.0,\"1671080400000\":0.0,\"1671166800000\":0.0,\"1671426000000\":0.0,\"1671512400000\":0.0,\"1671598800000\":0.0,\"1671685200000\":0.0,\"1671771600000\":0.0,\"1672117200000\":0.0,\"1672203600000\":0.0,\"1672290000000\":0.0,\"1672376400000\":0.0},\"Stock Splits\":{\"1664769600000\":0.0,\"1664856000000\":0.0,\"1664942400000\":0.0,\"1665028800000\":0.0,\"1665115200000\":0.0,\"1665374400000\":0.0,\"1665460800000\":0.0,\"1665547200000\":0.0,\"1665633600000\":0.0,\"1665720000000\":0.0,\"1665979200000\":0.0,\"1666065600000\":0.0,\"1666152000000\":0.0,\"1666238400000\":0.0,\"1666324800000\":0.0,\"1666584000000\":0.0,\"1666670400000\":0.0,\"1666756800000\":0.0,\"1666843200000\":0.0,\"1666929600000\":0.0,\"1667188800000\":0.0,\"1667275200000\":0.0,\"1667361600000\":0.0,\"1667448000000\":0.0,\"1667534400000\":0.0,\"1667797200000\":0.0,\"1667883600000\":0.0,\"1667970000000\":0.0,\"1668056400000\":0.0,\"1668142800000\":0.0,\"1668402000000\":0.0,\"1668488400000\":0.0,\"1668574800000\":0.0,\"1668661200000\":0.0,\"1668747600000\":0.0,\"1669006800000\":0.0,\"1669093200000\":0.0,\"1669179600000\":0.0,\"1669352400000\":0.0,\"1669611600000\":0.0,\"1669698000000\":0.0,\"1669784400000\":0.0,\"1669870800000\":0.0,\"1669957200000\":0.0,\"1670216400000\":0.0,\"1670302800000\":0.0,\"1670389200000\":0.0,\"1670475600000\":0.0,\"1670562000000\":0.0,\"1670821200000\":0.0,\"1670907600000\":0.0,\"1670994000000\":0.0,\"1671080400000\":0.0,\"1671166800000\":0.0,\"1671426000000\":0.0,\"1671512400000\":0.0,\"1671598800000\":0.0,\"1671685200000\":0.0,\"1671771600000\":0.0,\"1672117200000\":0.0,\"1672203600000\":0.0,\"1672290000000\":0.0,\"1672376400000\":0.0}}")]

    for demo in demos:
        db.session.add(demo)
    db.session.commit()

# Uses a raw SQL query to TRUNCATE or DELETE the portfolios table. SQLAlchemy doesn't
# have a built in function to do this. With postgres in production TRUNCATE
# removes all the data from the table, and RESET IDENTITY resets the auto
# incrementing primary key, CASCADE deletes any dependent entities.  With
# sqlite3 in development you need to instead use DELETE to remove all data and
# it will reset the primary keys for you as well.
def undo_stocks():
    if environment == "production":
        db.session.execute(f"TRUNCATE table {SCHEMA}.stocks RESTART IDENTITY CASCADE;")
    else:
        db.session.execute("DELETE FROM stocks")

    db.session.commit()
